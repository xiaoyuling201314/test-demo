<!doctype html> 
<html lang="en" class="no-js"> 
<head> 
  <meta charset="utf-8" /> 
  <title>登录页面</title> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/style.css" />
  <script type='text/javascript' src='js/jquery-1.11.1.min.js'></script>
  <script type='text/javascript' src='js/jquery.particleground.min.js'></script>
  <script type='text/javascript' src='js/demo.js'></script>
  
  <style type="text/css">

        .form-signin .form-signin-heading,
        .form-signin .checkbox {
            margin-bottom: 10px;
        }

        .form-signin img{float:right}
        
        form font{height:20px;display:block}
        
        form font strong {display: none;height:20px;line-height:20px;color:red;font-size:10px;font-family:initial;}

    </style>  
    <script type="text/javascript">
    
    $(function(){
      
      /** 验证码手指状态以及点击刷新 **/
      $("#vimg").mouseover(function(){
        $(this).css("cursor","pointer");
      }).click(function(){
        $("#vimg").attr("src", "verify?random=" + Math.random())
      });
      
      /** 隐藏所有的提示信息 */
    $("strong[id$='_tip']").hide(); 
      
      /** 为表单绑定提交事件onsubmit */
    $("#loginBtn").click(function(){
      /** 隐藏所有的提示信息 */
      $("strong[id$='_tip']").hide(); 
      /** 定义是否提交表单的标识符 */
      var isSubmit = true;
      /** 表单输入校验 */
      var userId = $("#userId");
      var pwd = $("#pwd");
      var code = $("#code");
      if ($.trim(userId.val()) == ""){
        $("#userId_tip").html("* 用户名不能空！").show();
        isSubmit = false;
        userId.focus();// 调用文本框获取焦点方法
      }else if (!/^\w{5,20}$/.test($.trim(userId.val()))){
        $("#userId_tip").html("* 用户名格式不正确！").show();
        isSubmit = false;
        userId.focus();// 调用文本框获取焦点方法
      }else if ($.trim(pwd.val()) == ""){
        $("#pwd_tip").html("* 密码不能为空！").show();
        isSubmit = false;
        pwd.focus();// 调用文本框获取焦点方法
      }else if (!/^\w{6,20}$/.test($.trim(pwd.val()))){
        $("#pwd_tip").html("* 密码格式不正确！").show();
        isSubmit = false;
        pwd.focus();// 调用文本框获取焦点方法
      }else if ($.trim(code.val()) == ""){
        $("#code_tip").html("* 验证码不能为空！").show();
        isSubmit = false;
        code.focus();// 调用文本框获取焦点方法
      }else if (!/^[a-zA-Z0-9]{4}$/.test($.trim(code.val()))){
        $("#code_tip").html("* 验证码格式不正确！").show();
        isSubmit = false;
        code.focus();// 调用文本框获取焦点方法
      }
      /** 判断表单是否通过校验 */
      if (isSubmit){
        var params = $("form[class=form-signin]").serialize();
        var url = "admin/adminLoginAjax";
        $.post(url,params,function(data){
          if(data.status == 0){
            window.location = "admin/main"
          }else{
            alert(data.tip);
            //刷新验证码
            $("#vimg").trigger("click");
          }
        },"json");
      }
    });
    /** 绑定回车键绑定事件，当用户按了回车键，就提交表单 */
    $(document).keydown(function(event){
      if (event.keyCode === 13){ // 等于13代表按了回车键
        // 触发表单提交按钮的点击事件
        $("#loginBtn").trigger("click");
      }
    });
    
    //实现跳出框架界面的js代码
    if(top.location != self.location){
      top.location = self.location;
    }
    
    
    }); 
    </script>
</head> 

<body>

<div id="particles">
	<div class="intro">
		<div class="title">
        <img src="img/logo1.png" width="300px" alt="" />
        <div class="form">
          <h2>用户登录</h2>
          <div class="userform">
            <form action="" class="form-signin">
              <div class="username">
                <input type="text" name="userId" id="userId" value="" class="input-block-level" placeholder="请输入账号" />
                <font>
                <strong  id="userId_tip" class="normal">* 用户名不能为空！</strong>
              </font>
              </div>
              <div class="password">
               <input type="password" name="password" id="pwd" value="" class="input-block-level" placeholder="请输入密码"/>
               <font>
                <strong  id="pwd_tip" class="normal">* 密码不能为空！</strong>
              </font>
              </div>
              <div class="idcode">
                <input type="text" name="vcode" id="code" class="input-medium" placeholder="请输入验证码"/>
                <span class="fr-box">1234</span>
                <font>
                  <strong  id="code_tip" class="normal">* 验证码不能为空！</strong>
                </font>
              </div>
              <div  class="remenber"><input id="reme" type="checkbox" /><label for="reme"><span>记住密码</span></label></div>
              
              <div>
                <button class="login" type="button" id="loginBtn">登录</button>
              </div>
            </form>
          </div>
        </div>
    </div>
    <div class="ins">
        <p>© 2017 广东达元食品药品安全技术有限公司 All Rights Reserved.</p>
    </div>
	</div>
</div>
</body> 
</html> 


